!function(){var e,t={182:function(e,t){"use strict";t.Z={prod:{adBlockerDetection:"https://libs.outbrain.com/video/outbrain-media-player/current/ads.min.js",style:"https://libs.outbrain.com/video/outbrain-media-player/current/omp.min.css"},preview:{adBlockerDetection:"https://libs.outbrain.com/video/outbrain-media-player/current/ads.min.js",style:"https://libs.outbrain.com/video/outbrain-media-player/current/omp.min.css"},staging:{adBlockerDetection:"https://libs.outbrain.com/video/outbrain-media-player/staging/ads.min.js",style:"https://libs.outbrain.com/video/outbrain-media-player/staging/omp.min.css"},dev:{adBlockerDetection:"https://localhost:8086/ads.js",style:"https://localhost:8086/omp.css"},omidPartnerName:"outbrain",omidPartnerVersion:"0.0.0"}},4:function(e,t,i){"use strict";i.r(t);var s=i(658),o=i(182);!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}}(),t.default=class{constructor(e){if(this.id=e,this.env="prod",this.mobile=!1,this.opaAds=[],this.vastXML=null,this.eventTrackers=null,this.container=null,this.video=null,this.seek=!1,this.shouldTrackMoat=!1,this.options=null,this.adBlocker=!1,this.resizeId=0,this.maxRetries=3,this.currentOpaVideoData=null,this.opaCallRestDuration=5,this.videoAdsLookupTimeout=null,this.isDestroyed=!1,this.opaSupply=null,this.wasm={active:!1,url:"https://localhost:8084/outbrain-media-player/wasm/vast.js"},this.elements={container:{elm:null,className:"omp-full"},parser:{id:"omp-parser"},interpreter:{id:"omp-vast"}},this.events={resize:this.onResize.bind(this)},!this.id)return this.onError(new Error("Invalid ID attribute provided"))}init(e){return console.debug("OMP init: "+Date.now()),this.env=e.env?e.env:"prod",this.options=e,2===e.vidgetVersion&&e.requestParams?(this.maxRetries=e.maxRetries||3,this.allowedFailedRetriesStreak=e.failedRetriesStreak||0,this.failedRetriesStreak=0,this.opaCallRestDuration=1e3*(e.opaCallRestDuration||this.opaCallRestDuration),this.setPlayerContainer(),this.searchForVideoAds()):this.initVideoAd(e)}initVideoAd(e){return new Promise((t=>{s.default.waterfall([this.setPlayerContainer],this).catch(this.onError.bind(this)).then((()=>{if(!e.hasOwnProperty("vastXML"))throw new Error("Invalid vast xml source");this.currentOpaVideoData=e,this.mobile=this.options.hasOwnProperty("mobile")?this.options.mobile:this.isMobile(),this.container.classList.add(this.mobile?"omp-mobile":"omp-desktop"),this.vastXML=e.vastXML,this.seek=this.options.seek||!1,this.eventTrackers=e.eventTrackers||{},this.shouldTrackMoat=this.options.trackMoat||!1,this.setDefaultOpts(),this.setCustomOpts(),this.options.hasOwnProperty("promisedInit")&&this.options.promisedInit&&this.elements.container.elm.addEventListener("ready",(()=>{t("ready-promise")}));if(document.getElementById(this.elements.parser.id)){const t="video";i(563)(`./${t}`).then((t=>{this.video=new t(this,e)}))}else s.default.waterfall([this.insertWasm,this.detectAdBlocker,this.insertVideoTag],this).catch(this.onError.bind(this));window.addEventListener("resize",this.events.resize),this.options.promisedInit||t(!0)}))}))}async searchForVideoAds(){if(2===this.options.vidgetVersion&&!this.isDestroyed){if(!this.opaSupply){const{OpaSupply:e}=await i.e(252).then(i.bind(i,252));this.opaSupply=new e}if(0===this.maxRetries||this.allowedFailedRetriesStreak&&this.failedRetriesStreak>=this.allowedFailedRetriesStreak)this.onAdLookupExhausted();else if(this.maxRetries--,this.opaAds.length>0){const e=this.opaAds.shift();this.initVideoAd(e)}else this.opaSupply.initOpaVideoCall(this.options).then((e=>{if(this.failedRetriesStreak=0,this.options.firstAuctionVideo=null,Array.isArray(e)&&e.length>0){const t=e.shift();this.initVideoAd(t),e.forEach((e=>this.opaAds.push(e)))}})).catch((e=>{"no doc content"===e?.errorMsg&&this.failedRetriesStreak++,this.options.firstAuctionVideo=null,this.onError(e),this.videoAdsLookupTimeout=setTimeout((()=>{this.searchForVideoAds()}),this.opaCallRestDuration)}))}}updateMacros(e){try{this.video.interpreter.updateMacros(e)}catch(e){}}setPlayerContainer(){if(null==this.container)if(this.container=this.options.playerElement||document.getElementById(this.id),this.elements.container.elm=this.container,this.container){const e=document.getElementsByTagName("head")[0];if(!document.getElementById("omp-style")){const t=document.createElement("link");t.href=o.Z[this.env].style,t.id="omp-style",t.rel="stylesheet",t.type="text/css",e.appendChild(t)}this.container.classList.add("omp")}else this.onError(new Error(`Cannot retrieve DOM element with ID ${this.id}`))}isMobile(){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))}setDefaultOpts(){this.options.hasOwnProperty("controlsDelay")||(this.options.controlsDelay=1500),this.options.hasOwnProperty("twoStepsLoad")||(this.options.twoStepsLoad=!1),this.options.autoplay&&(this.options.twoStepsLoad=!1)}setCustomOpts(){this.options.relativeSize&&this.container.classList.add(this.elements.container.className)}insertWasm(){return new Promise(((e,t)=>{if(this.wasm.active){document.getElementsByTagName("head")[0];document.createElement("script").src=this.wasm.url}else e(!0)}))}detectAdBlocker(){return new Promise((e=>{if(this.options.adBlockerDetection&&!document.getElementById("obad")){const t=document.getElementsByTagName("body")[0],i=document.createElement("script");i.id="obad",i.src=o.Z[this.env].adBlockerDetection;const s=setTimeout((()=>{const t=document.getElementById("iSsVFRmjlhBx");t?t.parentNode.removeChild(t):(this.adBlocker=!0,console.log("Adblocker detected")),e(!0)}),6e3);i.onload=()=>{clearTimeout(s),this.adBlocker=!1;const t=document.getElementById("iSsVFRmjlhBx");t&&t.parentNode.removeChild(t),e(!0)},t.appendChild(i)}else e(!0)}))}async insertVideoTag(){const{Video:e}=await Promise.all([i.e(330),i.e(791)]).then(i.bind(i,258));this.adBlocker||(this.video=new e(this,this.currentOpaVideoData))}onResize(e){this.resizeId&&clearTimeout(this.resizeId),this.resizeId=setTimeout((()=>{this.resize()}),200)}play(){this.video.play()}pause(){this.video.pause()}resume(){this.video.resume()}stop(){this.video.stop()}skipAd(){this.lookForNextVideo();const e=new CustomEvent("adskipped",{bubbles:!1,cancelable:!0});this.container.dispatchEvent(e)}lookForNextVideo(){setTimeout((()=>{this.video.destroy(),this.searchForVideoAds()}))}stopAds(){this.video.stop()}displayThumbnail(){this.video.displayThumbnail()}resize(e,t){e&&t?this.video.resize(e,t):this.video.resize(this.container.offsetWidth,this.container.offsetHeight)}setMute(e){this.video.setMute(e)}setVideoMute(e){this.video.setVideoMute(e)}setControls(e){this.video.setControls(e)}destroy(){this.video&&this.video.destroy(),this.isDestroyed=!0,clearTimeout(this.videoAdsLookupTimeout)}mute(){this.video.setMute(!0)}unmute(){this.video.setMute(!1)}isMuted(){return this.video.isMuted()}getVolume(){return this.video.getVolume()}getAdPaused(){return this.video.getAdPaused()}getAdErrorCode(){return this.video.getAdErrorCode()}getAdErrorMessage(){return this.video.getAdErrorMessage()}getAdSystem(){return this.video.getAdSystem()}getVideoBitrate(){return this.video.getVideoBitrate()}getAdMediaBitrateArray(){return this.video.getAdMediaBitrateArray()}getHeavyAdStatus(){return this.video.getHeavyAdStatus()}getAdMediaHeight(){return this.video.getAdMediaHeight()}getAdMediaWidth(){return this.video.getAdMediaWidth()}getAdMediaUrl(){return this.video.getAdMediaUrl()}getAdTagUrl(){return this.video.getAdTagUrl()}getAdDuration(){return this.video?1e3*this.video.getAdDuration():0}getAdCurrentTime(){return this.video?1e3*this.video.getAdCurrentTime():0}getDuration(){return 1e3*this.video.duration}getAdUnit(){return this.video.interpreter.adUnit}getAdMedias(){return this.video.parser.medias}getAdDeliveryType(){return this.video.getAdDeliveryType()}getVastWidth(){return this.video?this.video.getVastWidth():0}getVastHeight(){return this.video?this.video.getVastHeight():0}getVideoClickThroughURL(){return this.video.getVideoClickThroughURL()}getVideoClickTrackingURL(){return this.video.getVideoClickTrackingURL()}getCompanionAds(){return this.video.getCompanionAds()}getVolumeState(){return this.video.getVolumeState()}onError(e){const t=new CustomEvent("playererror",{detail:e,bubbles:!1,cancelable:!0});this.container.dispatchEvent(t)}onAdLookupExhausted(){const e=new CustomEvent("adLookupExhausted",{bubbles:!1,cancelable:!0});(this.container||this.options.playerElement).dispatchEvent(e)}notifyVideoHasBeenRendered(e){this.video.notifyVideoHasBeenRendered(e)}}},658:function(e,t,i){"use strict";i.r(t);t.default=class{static waterfall(e,t){return e.reduce(((e,i)=>e.then(t?i.bind(t):i)),Promise.resolve())}static getElement(e,t){const i=(e,t)=>{const s=Object.keys(t);let o=null;if(s.indexOf(e)>=0)return t[e];{let r=s.length;for(;r--;)if(t[s[r]]&&"object"==typeof t[s[r]]&&"elm"!==s[r]&&(o=i(e,t[s[r]]),o))return o}return o};return i(e,t)}static humanTime(e){const t=new Date(null);return t.setSeconds(e),t.toISOString().substr(14,5)}}},563:function(e,t,i){var s={"./native-ui":[216,661],"./native-ui-v1":[368,916],"./native-ui-v1.js":[368,916],"./native-ui.js":[216,661],"./omsdk-manager":[601,832],"./omsdk-manager.js":[601,832],"./parser":[557,330],"./parser.js":[557,330],"./player":[4],"./player-controls":[525,619],"./player-controls-svgs":[508,243],"./player-controls-svgs.js":[508,243],"./player-controls.js":[525,619],"./player.js":[4],"./utils":[658],"./utils.js":[658],"./vast":[677,832,621],"./vast.js":[677,832,621],"./video":[258,330,791],"./video.js":[258,330,791],"./vpaid":[711,35],"./vpaid.js":[711,35]};function o(e){if(!i.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],o=t[0];return Promise.all(t.slice(1).map(i.e)).then((function(){return i(o)}))}o.keys=function(){return Object.keys(s)},o.id=563,e.exports=o}},i={};function s(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={exports:{}};return t[e].call(r.exports,r,r.exports,s),r.exports}s.m=t,s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,i){return s.f[i](e,t),t}),[]))},s.u=function(e){return({35:"vpaid",243:"player-controls-svgs",330:"parser",619:"player-controls",621:"vast",661:"native-ui",791:"video",832:"omsdk-manager",916:"native-ui-v1"}[e]||e)+".bundle.js"},s.miniCssF=function(e){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},s.l=function(t,i,o,r){if(e[t])e[t].push(i);else{var n,a;if(void 0!==o)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==t){n=u;break}}n||(a=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.src=t),e[t]=[i];var c=function(i,s){n.onerror=n.onload=null,clearTimeout(h);var o=e[t];if(delete e[t],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(s)})),i)return i(s)},h=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),a&&document.head.appendChild(n)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&!e;)e=i[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e}(),function(){var e={898:0};s.f.j=function(t,i){var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise((function(i,s){o=e[t]=[i,s]}));i.push(o[2]=r);var n=s.p+s.u(t),a=new Error;s.l(n,(function(i){if(s.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",a.name="ChunkLoadError",a.type=r,a.request=n,o[1](a)}}),"chunk-"+t,t)}};var t=function(t,i){var o,r,n=i[0],a=i[1],d=i[2],l=0;if(n.some((function(t){return 0!==e[t]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(d)d(s)}for(t&&t(i);l<n.length;l++)r=n[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunk=self.webpackChunk||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";var e=s(4);window.OutbrainMP=e.default}()}();