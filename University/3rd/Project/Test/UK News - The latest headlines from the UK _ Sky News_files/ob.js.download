(()=>{var t={193:(t,e,n)=>{function i(t,e){a(t,e),e.add(t)}function s(t,e,n){a(t,e),e.set(t,n)}function a(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function o(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,l(t,e,"get"))}function c(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,l(t,e,"set"),n),n}function l(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}const{Ajax:h}=n(262),u="https://lexicon.33across.com/v1/envelope",d=1e4,p="ima",w={GDPR:t=>{let{consentString:e}=t;return{gdpr_consent:e}},CCPA:t=>{let{consentString:e}=t;return{us_privacy:e}},GPP:t=>{let{consentString:e,applicableSections:n=[]}=t;return{gpp:e,gpp_sid:encodeURIComponent(n.join(","))}}};var v=new WeakMap,g=new WeakMap,f=new WeakMap,P=new WeakMap,S=new WeakMap,m=new WeakMap,C=new WeakMap,b=new WeakMap,k=new WeakSet,M=new WeakSet,D=new WeakSet,W=new WeakSet,y=new WeakSet;function A(t){const e=JSON.parse(t);return e.succeeded?e.data.envelope?e.data.envelope:"":(o(this,b).clear(),"")}async function x(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o(this,m).consentData;const e=await r(this,D,T).call(this,t);return e?(o(this,b).setId(e),r(this,y,j).call(this,e)):o(this,P)}async function T(t){try{const e=await o(this,f).call(this,{url:o(this,g),params:r(this,W,I).call(this,{allConsentData:await t}),options:{withCredentials:!0,timeout:d}});return r(this,k,A).call(this,e)}catch(t){throw new Error("_33AcrossIdMappingsProvider: ".concat(t))}}function I(t){let{allConsentData:e}=t;return e.reduce(((t,e)=>{let{consentData:n={}}=e;const i=w[n.name];return n.consentString&&i&&Object.assign(t,i(n)),t}),{pid:o(this,v),src:o(this,C),ver:"1.1.0"})}function j(t){const[e]=o(this,S),[n]=e.uids;return Object.assign(n,{id:t,atype:1}),c(this,P,o(this,S)),o(this,P)}t.exports=class{constructor(t){let{pid:e,apiUrl:n=u,src:a=p}=t,{ajax:r=h,consentDataHandler:o={consentData:Promise.resolve([])},localStorageId:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,y),i(this,W),i(this,D),i(this,M),i(this,k),s(this,v,{writable:!0,value:void 0}),s(this,g,{writable:!0,value:void 0}),s(this,f,{writable:!0,value:void 0}),s(this,P,{writable:!0,value:[]}),s(this,S,{writable:!0,value:[]}),s(this,m,{writable:!0,value:void 0}),s(this,C,{writable:!0,value:void 0}),s(this,b,{writable:!0,value:void 0}),c(this,v,e),c(this,g,n),c(this,f,r),c(this,m,o),c(this,C,a),c(this,b,l)}async fetch(){c(this,S,[{source:"33across.com",uids:[{}]}]),o(this,m).onChange((t=>{o(this,b).clear(),r(this,M,x).call(this,t)}));const t=o(this,b).getId();return o(this,b).hasExpired()||!t?r(this,M,x).call(this):(o(this,b).isRefreshRequired()&&r(this,M,x).call(this),r(this,y,j).call(this,t))}getIds(){return o(this,P)}getLoadingIds(){return o(this,S)}getPid(){return o(this,v)}getSource(){return o(this,C)}}},80:(t,e,n)=>{const{loadConsentData:i,LocalStorageId:s}=n(262),a=n(193),r=i(),o="33acrossId";function c(t){let{expires:e,refreshInSeconds:n,...i}=t;const l="esp"===i.src?"".concat(i.src,"_").concat(o):o,h=new s({idKeyName:l,expires:e,refreshInSeconds:n}),u=new a(i,{consentDataHandler:r,localStorageId:h});return c.providers[u.getSource()]=u,u}c.providers={},t.exports=c},250:(t,e)=>{t.exports=function(t){var e,n,i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;null!==(e=s.googletag)&&void 0!==e||(s.googletag={}),null!==(i=(n=s.googletag).secureSignalProviders)&&void 0!==i||(n.secureSignalProviders=[]),s.googletag.secureSignalProviders.push({id:"33across.com",collectorFunction:()=>t.fetch().then((t=>{var e;return(null===(e=t[0])||void 0===e?void 0:e.uids[0].id)||null}))})}},3:(t,e)=>{function n(t){var e;return null===(e=t._33across)||void 0===e?void 0:e.idMappingsConfig.pid}t.exports=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const e=n(t);return e?Promise.resolve(e):(function(t,e){!function(t,e,n){const i="_33across.idMappingsConfig.pid".split(".");i.reduce(((t,e,s)=>s===i.length-1?(t[e]=n,n):void 0===t[e]?(t[e]={},t[e]):t[e]),t)}(e,0,t)}(await function(t){return new Promise((e=>{t.setTimeout((async()=>{e(await function(t){return new Promise((e=>{t.pbjs&&t.pbjs.que?t.pbjs.que.push((()=>{var n;e(null===(n=t.pbjs)||void 0===n||null===(n=n.getConfig("userSync.userIds").find((t=>{let{name:e}=t;return"33acrossId"===e})))||void 0===n?void 0:n.params.pid)})):e()}))}(t)||function(t){var e,n;const i=(null===(e=t._33AcrossIdMappingsProvider)||void 0===e?void 0:e.providers)||{},s=i.ima||(null===(n=t._33AcrossPpidMappingsProvider)||void 0===n?void 0:n.providers[0])||i.aps;return null==s?void 0:s.getPid()}(t))}),10)}))}(t),t),n(t))}},542:(t,e)=>{t.exports=function(t){return new Promise(((e,n)=>{const i=function(t){let{url:e,params:n={},win:i=window,options:s={}}=t;const a=new i.XMLHttpRequest("MSXML2.XMLHTTP.3.0"),r=new URLSearchParams(n);return a.open("GET","".concat(e,"?").concat(r),1),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.withCredentials=s.withCredentials||!0,a.timeout=s.timeout,a}(t);i.onreadystatechange=()=>{4===i.readyState&&(i.status>=200&&i.status<300?e(i.responseText):n("Ajax: Status code ".concat(i.status)))},i.onerror=()=>n("Ajax: Network error"),i.ontimeout=()=>n("Ajax: Timeout"),i.send()}))}},346:(t,e)=>{function n(t,e){s(t,e),e.add(t)}function i(t,e,n){s(t,e),e.set(t,n)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function r(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,c(t,e,"get"))}function o(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,c(t,e,"set"),n),n}function c(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}const l="iab",h=!1,u={CCPA:"__uspapi",GDPR:"__tcfapi",GPP:"__gpp"},d={GDPR:"__tcfapiLocator",CCPA:"__uspapiLocator",GPP:"__gppLocator"},p={GDPR:"addEventListener",CCPA:"getUSPData",GPP:"addEventListener"},w={GDPR:2,CCPA:1,GPP:1.1},v={GDPR(t,e){t(p.GDPR,w.GDPR,e)},CCPA(t,e){t(p.CCPA,w.CCPA,e)},GPP(t,e,n){t(p.GPP,e,n,w.GPP)}};var g=new WeakMap,f=new WeakMap,P=new WeakMap,S=new WeakMap,m=new WeakMap,C=new WeakMap,b=new WeakMap,k=new WeakMap,M=new WeakSet,D=new WeakSet,W=new WeakSet,y=new WeakSet,A=new WeakSet,x=new WeakSet,T=new WeakSet,I=new WeakSet,j=new WeakSet,E=new WeakSet,G=new WeakSet,_=new WeakSet,L=new WeakSet,R=new WeakSet,O=new WeakSet;function U(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(this,m);try{if("function"==typeof e[r(this,f)])return{cmpApi:e[r(this,f)],win:e}}catch(t){}return e.frames[t]?{win:e}:e===r(this,m).top?{}:a(this,M,U).call(this,t,e.parent)}function X(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e="boolean"==typeof t.gdprApplies?t.gdprApplies:h;return!e||(n=t.tcString)&&"string"==typeof n?{consentData:a(this,I,z).call(this,{consentString:t.tcString,consentObject:t,additionalFields:{applies:e,..."string"==typeof t.addtlConsent?{addtlConsent:t.addtlConsent}:{}}})}:a(this,y,N).call(this,t);var n}function q(t){return(e=null==t?void 0:t.uspString)&&"string"==typeof e?{consentData:a(this,I,z).call(this,{consentString:t.uspString,consentObject:t})}:a(this,y,N).call(this,t);var e}function N(t){return a(this,A,V).call(this,"CMP returned unexpected value during lookup process.",{consentObject:t})}function V(t,e){return{errMsg:t,errArgs:e}}function H(t){const e=t=>Array.isArray(t)&&t.length>0&&0!==t[0];return e(t.applicableSections)?t.applicableSections:e(t.applicableSection)?t.applicableSection:null}function F(t){if(!(null==t?void 0:t.gppString)||"string"!=typeof t.gppString)return a(this,y,N).call(this,t);const e=a(this,x,H).call(this,t);return e?{consentData:a(this,I,z).call(this,{consentString:t.gppString,consentObject:t,additionalFields:{applicableSections:e}})}:a(this,y,N).call(this,t)}function z(){let{consentString:t,consentObject:e,additionalFields:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{consentString:t,vendorData:e,apiVersion:w[r(this,g)],name:r(this,g),...n}}function J(t,e){const n={GDPR:t=>a(this,D,X).call(this,t),CCPA:t=>a(this,W,q).call(this,t),GPP:t=>a(this,T,F).call(this,(null==t?void 0:t.pingData)||t)}[r(this,g)](t);var i;return e&&(null===(i=r(this,k))||void 0===i||i.call(this,n,r(this,g))),n}function K(t){switch(r(this,g)){case"GDPR":return[!1===t.gdprApplies||"tcloaded"===t.eventStatus||"useractioncomplete"===t.eventStatus];case"CCPA":return[!0];case"GPP":{const e="sectionChange"===t.eventName;return e||"loaded"===t.pingData.cmpStatus?[!0,e]:"error"===t.pingData.cmpStatus?[!1,!1,"CMP returned with a cmpStatus:error response. Please check CMP setup."]:[!1]}default:return[!1]}}function B(t,e){if(!e)return a(this,A,V).call(this,"CMP unable to register callback function.  Please check CMP setup.");const[n,i,s]=a(this,E,K).call(this,t);return n?a(this,j,J).call(this,t,i):s?{errMsg:s}:(o(this,S,t),null)}function Q(t,e){var n,i,s;const a="".concat(r(this,f),"Return"),o=(null!==(n=t.data)&&void 0!==n&&null!==(i=n.includes)&&void 0!==i&&i.call(n,a)?JSON.parse(t.data):t.data)[a];null!=o&&o.callId&&(null===(s=e[o.callId])||void 0===s||s.call(e,o.returnValue,o.success),delete e[o.callId])}function Y(t,e){const n={},i="".concat(r(this,f),"Call");r(this,m).addEventListener("message",(t=>a(this,_,Q).call(this,t,n)),!1),function(e,s,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=Math.random().toString(),c={[i]:{command:e,version:s,parameter:r,callId:o}};n[o]=a,t.postMessage(c,"*")}(p[r(this,g)],w[r(this,g)],e)}function Z(){var t=this;return new Promise((e=>{const{cmpApi:n,win:i}=a(this,M,U).call(this,d[r(this,g)]);if(!i)return void e(a(this,A,V).call(this,"CMP not found, the CMP script needs to be loaded before the 33across script"));const s=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const r=a(t,G,B).call(t,...i);r&&e(r)};n?v[r(this,g)](n,s):a(this,L,Y).call(this,i,s)}))}function $(){return a(this,j,J).call(this,r(this,b))}t.exports=class{constructor(t){let{name:e,userCmp:s=l,win:a=window,config:r={}}=t;n(this,O),n(this,R),n(this,L),n(this,_),n(this,G),n(this,E),n(this,j),n(this,I),n(this,T),n(this,x),n(this,A),n(this,y),n(this,W),n(this,D),n(this,M),i(this,g,{writable:!0,value:void 0}),i(this,f,{writable:!0,value:void 0}),i(this,P,{writable:!0,value:void 0}),i(this,S,{writable:!0,value:void 0}),i(this,m,{writable:!0,value:void 0}),i(this,C,{writable:!0,value:void 0}),i(this,b,{writable:!0,value:void 0}),i(this,k,{writable:!0,value:void 0}),o(this,g,e),o(this,f,u[e]),o(this,P,s),o(this,m,a),o(this,C,r.consentTimeout||1e4),o(this,b,r.staticConsentData||{})}onChange(t){o(this,k,t)}loadConsentData(){const t={iab:()=>a(this,R,Z).call(this),static:()=>a(this,O,$).call(this)};let e=null;if(!Object.keys(t).includes(r(this,P)))return Promise.resolve(a(this,A,V).call(this,"The indicated CMP (".concat(r(this,P),") is not a supported")));const n=new Promise((t=>{e=r(this,m).setTimeout((()=>{const{consentData:e,errMsg:n}=a(this,j,J).call(this,r(this,S));t(Object.assign(a(this,A,V).call(this,"CMP hasn't been loaded"),{consentData:n?a(this,I,z).call(this):e}))}),r(this,C))}));return Promise.race([t[r(this,P)](),n]).finally((()=>r(this,m).clearTimeout(e)))}}},989:(t,e)=>{t.exports=function(t){const e=["GPP","CCPA","GDPR"].reduce(((e,n)=>(e[n]=t(n),e)),{}),n={};return{onChange(t){e.GPP.onChange((e=>{n.GPP=e,t(Object.values(n))}))},consentData:new Promise((t=>{const i=Object.entries(e).reduce(((t,e)=>{let[i,s]=e;return(t[i]=s.loadConsentData()).then((t=>n[i]=t)),t}),{});Promise.all(Object.values(i)).then((()=>t(Object.values(n)))),i.GPP.then((e=>{var i;null!==(i=e.consentData)&&void 0!==i&&i.consentString&&t(Object.values(n))}))}))}}},262:(t,e,n)=>{const i=n(346),s=n(989),a=n(542),r=n(847),o=t=>new i({name:t});t.exports={ConsentManagement:i,loadConsentData:()=>s(o),Ajax:a,LocalStorageId:r}},847:(t,e)=>{function n(t,e){s(t,e),e.add(t)}function i(t,e,n){s(t,e),e.set(t,n)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function r(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,c(t,e,"get"))}function o(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,c(t,e,"set"),n),n}function c(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}const l=28800,h=90;var u=new WeakMap,d=new WeakMap,p=new WeakMap,w=new WeakMap,v=new WeakSet,g=new WeakSet,f=new WeakSet;function P(t,e){return r(this,p).localStorage.setItem(t,e),this}function S(t){return r(this,p).localStorage.removeItem(t),this}function m(t){return r(this,p).localStorage.getItem(t)}t.exports=class{constructor(t){let{idKeyName:e,refreshInSeconds:s=l,expires:a=h,win:r=window}=t;n(this,f),n(this,g),n(this,v),i(this,u,{writable:!0,value:void 0}),i(this,d,{writable:!0,value:void 0}),i(this,p,{writable:!0,value:void 0}),i(this,w,{writable:!0,value:void 0}),o(this,u,{VALUE:e,LAST:"".concat(e,"_last"),EXP:"".concat(e,"_exp")}),o(this,p,r),o(this,d,s),o(this,w,a)}hasExpired(){const t=a(this,f,m).call(this,r(this,u).EXP);return!!t&&new Date(t).getTime()-Date.now()<=0}isRefreshRequired(){const t=new Date(a(this,f,m).call(this,r(this,u).LAST));return Date.now()-t.getTime()>1e3*r(this,d)}setId(t){var e,n;const i=new Date(Date.now()+864e5*r(this,w));a(n=a(e=a(this,v,P).call(this,r(this,u).VALUE,t),v,P).call(e,r(this,u).EXP,i.toUTCString()),v,P).call(n,r(this,u).LAST,(new Date).toUTCString())}getId(){return r(this,p).decodeURIComponent(a(this,f,m).call(this,r(this,u).VALUE)||"")}clear(){var t,e;return a(e=a(t=a(this,g,S).call(this,r(this,u).VALUE),g,S).call(t,r(this,u).EXP),g,S).call(e,r(this,u).LAST),this}}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}(()=>{const t=n(80),e=n(3),i=n(250);!async function(){const n=await e();if(!n)return void console.error("33Across Lexicon ID Mappings Provider: PID not found");const s=new t({src:"esp",pid:n});i(s)}()})()})();