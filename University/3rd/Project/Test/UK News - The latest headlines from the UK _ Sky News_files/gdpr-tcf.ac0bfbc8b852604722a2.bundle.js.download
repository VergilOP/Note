(window._sp_wp_jsonp=window._sp_wp_jsonp||[]).push([[4,3],{176:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));n(24),n(40),n(63),n(41),n(42),n(65),n(136),n(98),n(46),n(180),n(181),n(43),n(44),n(45);var r=n(0),o=n(14),i=n(53),c=n(186),u=n(191),a=n(190),s=null;function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,c,f=y(d);function d(e,t,n){var r,o,c,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),r=f.call(this),o=h(r),u="gdpr",(c="category")in o?Object.defineProperty(o,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[c]=u,r.config=Object(i.c)(e),r.campaignResponse=t,r.cmpApi={update:function(){}},r.propertyId=n,r}return t=d,(n=[{key:"init",value:function(){var e=this,t=this.config,n=t.cmpOrigin,o=t.groupPmId,i=t.includeTcfApi,c=t.mmsDomain,f=t.pmOrigin,l=t.pmOttOrigin,p=t.nativeOttOrigin,y=t.propertyHref,d=t.pubData,h=t.msgOrigin,b=this.campaignResponse,v=b.actions,m=b.applies,g=b.cookies;return window._sp_.gdpr.deleteConsentCookies=function(){return Object(a.a)(n)},Object(r.setStateStorageInMemory)(m,"cookies","applies",this.category),Promise.all((v||[]).map(r.executeAction)).then((function(t){return Object(r.setCookiesAction)(g,c,e.category)})).then((function(){!1===i&&Object.assign(window._sp_.gdpr,Object(u.a)(n,c,e.propertyId)),m||e.cmpApi.update(null),window._sp_.gdpr.loadPrivacyManagerModal=function(t,i,u,a){return(t?Promise.resolve(t):function(e,t,n){return s?Promise.resolve(s):n?Object(r.fetch)("".concat(e,"/privacy-manager/childPmId"),{method:"GET",headers:{"Content-Type":"application/json"},params:{groupPmId:n,siteId:t}}).then(JSON.parse).then((function(e){return s=e.childPmId,e.childPmId})):Promise.resolve(null)}(n,e.propertyId,o)).then((function(t){if(!t)throw new Error("No privacy manager ID found");m&&e.cmpApi.update(Object(r.getUserConsentData)(e.category,"euconsent"),!0);var o=Object(r.getUserConsentData)(e.category,"uuid"),s=(u?l:f)+"?message_id=".concat(t,"&site_id=").concat(e.propertyId,"&consent_origin=").concat(n,"&consentUUID=").concat(o,"&mms_origin=").concat(c,"/mms/v2");return s=u?"".concat(l,"?message_id=").concat(t,"&site_id=").concat(e.propertyId,"&consent_origin=").concat(n,"&consentUUID=").concat(o,"&mms_origin=").concat(c,"/mms/v2"):a?"".concat(p,"?message_id=").concat(t,"&site_id=").concat(e.propertyId,"&consent_origin=").concat(n,"&consentUUID=").concat(o,"&mms_origin=").concat(c,"/mms/v2"):"".concat(f,"?message_id=").concat(t,"&site_id=").concat(e.propertyId,"&consent_origin=").concat(n,"&consentUUID=").concat(o,"&mms_origin=").concat(c,"/mms/v2"),i&&(s+="&pmTab=".concat(i)),new r.Renderer({url:s,mmsDomain:c,siteId:e.propertyId,href:y,msgOrigin:h,settings:"{}",messageId:t,cmpOrigin:n,type:"pm",pmOrigin:f,wrapperAPIOrigin:e.config.wrapperAPIOrigin,plugAndPlay:!0,activeElement:document.activeElement||void 0,updateCMP:e.updateCmpPost.bind(e),pubData:d,category:"gdpr"}).init()}))},window._sp_.gdpr.loadPrivacyManagerOtt=function(e){return window._sp_.gdpr.loadPrivacyManagerModal(e,null,!0)},window._sp_.gdpr.loadNativeOtt=function(e){return window._sp_.gdpr.loadPrivacyManagerModal(e,null,!1,!0)}}))}},{key:"checkForMessage",value:function(){var e=this.campaignResponse,t=e.applies,n=e.addtlConsent,o=e.consentStatus,i=e.euconsent,c=e.uuid;this.hasMessage()||(t&&this.cmpApi.update(Object(r.getUserConsentData)(this.category,"euconsent"),!1),Object(r.executeEventCallback)("onMessageReceiveData",[{messageId:0}],this.category),Object(r.executeEventCallback)("onConsentReady",[c,i,{addtlConsent:n,applies:t,consentedToAll:o&&o.consentedAll}],this.category))}},{key:"getPvData",value:function(){var e=this.campaignResponse&&this.campaignResponse.messageMetaData||{},t=e.messageId,n=e.categoryId,o=e.prtnUUID,i=e.subCategoryId,c=Object(r.getUserConsentData)(this.category);return{applies:c.applies,categoryId:n,consentStatus:c.consentStatus,euconsent:c.euconsent,msgId:t,subCategoryId:i,prtnUUID:o,uuid:c.uuid}}},{key:"showMessage",value:function(){var e=this.config,t=e.cmpOrigin,n=e.mmsDomain,i=e.msgOrigin,c=e.pmOrigin,u=e.propertyHref,a=e.pubData;if(this.sendPvData(),!this.hasMessage())return Promise.resolve();var s=this.campaignResponse,f=s.applies,l=s.message,p=s.messageMetaData,y=p.bucket,d=p.categoryId,h=p.messageId,b=p.prtnUUID,v=p.subCategoryId;return f&&this.cmpApi.update(Object(r.getUserConsentData)(this.category,"euconsent"),!0),Object(r.executeEventCallback)("onMessageReceiveData",[{prtnUUID:b,messageId:h,msgDescription:l.message_json.name||"",bucket:y,uuid:Object(r.getUserConsentData)(this.category,"uuid"),categoryId:d,subCategoryId:v}],this.category),new r.Renderer({url:Object(o.f)(l.message_json.type,h,this.config,Object(r.getUserConsentData)(this.category,"uuid"),this.propertyId),mmsDomain:n,siteId:this.propertyId,href:u,msgOrigin:i,message:l,settings:l.message_json.settings,messageId:h,cmpOrigin:t,type:Object(o.e)(l.message_json.type)?"pm":"message",pmOrigin:c,wrapperAPIOrigin:this.config.wrapperAPIOrigin,callbackPath:null,plugAndPlay:!1,updateCMP:this.updateCmpPost.bind(this),pubData:a,category:"gdpr"}).init()}},{key:"updateCmpPost",value:function(){this.campaignResponse.applies&&this.cmpApi.update(Object(r.getUserConsentData)(this.category,"euconsent"),!1)}}])&&l(t.prototype,n),c&&l(t,c),Object.defineProperty(t,"prototype",{writable:!1}),d}(c.a)},179:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Qo}));n(180),n(40),n(181),n(43),n(44),n(45),n(24),n(41),n(42);var r,o=n(176);n(136);!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(r||(r={}));var i,c,u;n(98);!function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(i||(i={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(c||(c={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(u||(u={}));n(182),n(47),n(187),n(133);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"listenerId",void 0),s(this,"callback",void 0),s(this,"next",void 0),s(this,"param",void 0),s(this,"success",!0),Object.assign(this,{callback:t,listenerId:r,param:n,next:o});try{this.respond()}catch(e){this.invokeCallback(null)}}var t,n,r;return t=e,(n=[{key:"invokeCallback",value:function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r,o=h(i);function i(){return p(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new K(this.param,this.listenerId))}},{key:"throwIfParamInvalid",value:function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}])&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(f);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"eventQueue",new Map),w(this,"queueNumber",0)}var t,n,r;return t=e,(n=[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(){this.eventQueue.forEach((function(e,t){new m(e.callback,e.param,t,e.next)}))}},{key:"clear",value:function(){this.queueNumber=0,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=i.LOADING,this.disabled=!1,this.displayStatus=c.HIDDEN,this.eventQueue.clear()}}],(n=null)&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}j(P,"apiVersion","2"),j(P,"tcfPolicyVersion",void 0),j(P,"eventQueue",new O),j(P,"cmpStatus",i.LOADING),j(P,"disabled",!1),j(P,"displayStatus",c.HIDDEN),j(P,"cmpId",void 0),j(P,"cmpVersion",void 0),j(P,"eventStatus",void 0),j(P,"gdprApplies",void 0),j(P,"tcModel",void 0),j(P,"tcString",void 0);var I=_((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"cmpId",P.cmpId),C(this,"cmpVersion",P.cmpVersion),C(this,"gdprApplies",P.gdprApplies),C(this,"tcfPolicyVersion",P.tcfPolicyVersion)}));function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(c,e);var t,n,r,o=A(c);function c(){var e;R(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(D(e=o.call.apply(o,[this].concat(n))),"cmpStatus",i.ERROR),e}return t=c,n&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(I);n(51),n(131),n(192),n(66),n(48),n(46),n(25);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(i,e);var t,n,r,o=Q(i);function i(e,t){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),z(W(n=o.call(this)),"tcString",void 0),z(W(n),"listenerId",void 0),z(W(n),"eventStatus",void 0),z(W(n),"cmpStatus",void 0),z(W(n),"isServiceSpecific",void 0),z(W(n),"useNonStandardTexts",void 0),z(W(n),"publisherCC",void 0),z(W(n),"purposeOneTreatment",void 0),z(W(n),"outOfBand",void 0),z(W(n),"purpose",void 0),z(W(n),"vendor",void 0),z(W(n),"specialFeatureOptins",void 0),z(W(n),"publisher",void 0),n.eventStatus=P.eventStatus,n.cmpStatus=P.cmpStatus,n.listenerId=t,P.gdprApplies){var r=P.tcModel;n.tcString=P.tcString,n.isServiceSpecific=r.isServiceSpecific,n.useNonStandardTexts=r.useNonStandardTexts,n.purposeOneTreatment=r.purposeOneTreatment,n.publisherCC=r.publisherCountryCode,n.outOfBand={allowedVendors:n.createVectorField(r.vendorsAllowed,e),disclosedVendors:n.createVectorField(r.vendorsDisclosed,e)},n.purpose={consents:n.createVectorField(r.purposeConsents),legitimateInterests:n.createVectorField(r.purposeLegitimateInterests)},n.vendor={consents:n.createVectorField(r.vendorConsents,e),legitimateInterests:n.createVectorField(r.vendorLegitimateInterests,e)},n.specialFeatureOptins=n.createVectorField(r.specialFeatureOptins),n.publisher={consents:n.createVectorField(r.publisherConsents),legitimateInterests:n.createVectorField(r.publisherLegitimateInterests),customPurpose:{consents:n.createVectorField(r.publisherCustomConsents),legitimateInterests:n.createVectorField(r.publisherCustomLegitimateInterests)},restrictions:n.createRestrictions(r.publisherRestrictions)}}return n}return t=i,(n=[{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0)for(var n=e.getMaxVendorId(),r=function(n){var r=n.toString();e.getRestrictions(n).forEach((function(e){var n=e.purposeId.toString();t[n]||(t[n]={}),t[n][r]=e.restrictionType}))},o=1;o<=n;o++)r(o);return t}},{key:"createVectorField",value:function(e,t){return t?t.reduce((function(t,n){return t[String(n)]=e.has(Number(n)),t}),{}):F(e).reduce((function(e,t){return e[t[0].toString(10)]=t[1],e}),{})}}])&&G(t.prototype,n),r&&G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(I);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(i,e);var t,n,r,o=te(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),delete(t=o.call(this,e)).outOfBand,t}return t=i,(n=[{key:"createVectorField",value:function(e){return $(e).reduce((function(e,t){return e+=t[1]?"1":"0"}),"")}},{key:"createRestrictions",value:function(e){var t={};if(e.numRestrictions>0){var n=e.getMaxVendorId();e.getRestrictions().forEach((function(e){t[e.purposeId.toString()]="_".repeat(n)}));for(var r=function(n){var r=n+1;e.getRestrictions(r).forEach((function(e){var r=e.restrictionType.toString(),o=e.purposeId.toString(),i=t[o].substr(0,n),c=t[o].substr(n+1);t[o]=i+r+c}))},o=0;o<n;o++)r(o)}return t}}])&&Z(t.prototype,n),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(K);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(i,e);var t,n,r,o=ae(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),pe(fe(e=o.call(this)),"cmpLoaded",!0),pe(fe(e),"cmpStatus",P.cmpStatus),pe(fe(e),"displayStatus",P.displayStatus),pe(fe(e),"apiVersion",String(P.apiVersion)),pe(fe(e),"gvlVersion",void 0),P.tcModel&&P.tcModel.vendorListVersion&&(e.gvlVersion=+P.tcModel.vendorListVersion),e}return t=i,n&&ce(t.prototype,n),r&&ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(I);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(i,e);var t,n,r,o=me(i);function i(){return he(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.invokeCallback(new ye)}}])&&be(t.prototype,n),r&&be(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(f);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(i,e);var t,n,r,o=_e(i);function i(){return je(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.throwIfParamInvalid(),this.invokeCallback(new oe(this.param))}}])&&Pe(t.prototype,n),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(m);n(134),n(67);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ae(e){var t="function"==typeof Map?new Map:void 0;return(Ae=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ve(e,arguments,Ne(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),xe(r,e)})(e)}function Ve(e,t,n){return(Ve=De()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&xe(o,n.prototype),o}).apply(null,arguments)}function De(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xe(e,t){return(xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}(u,e);var t,n,r,o,i,c=(t=u,n=De(),function(){var e,r=Ne(t);if(n){var o=Ne(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Le(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).name="DecodingError",t}return r=u,o&&Re(r.prototype,o),i&&Re(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(Ae(Error));function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ge(e){var t="function"==typeof Map?new Map:void 0;return(Ge=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return He(e,arguments,We(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Je(r,e)})(e)}function He(e,t,n){return(He=Qe()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Je(o,n.prototype),o}).apply(null,arguments)}function Qe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Je(e,t){return(Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(u,e);var t,n,r,o,i,c=(t=u,n=Qe(),function(){var e,r=We(t);if(n){var o=We(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Be(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).name="EncodingError",t}return r=u,o&&Fe(r.prototype,o),i&&Fe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(Ge(Error));function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $e(e){var t="function"==typeof Map?new Map:void 0;return($e=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Xe(e,arguments,tt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),et(r,e)})(e)}function Xe(e,t,n){return(Xe=Ze()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&et(o,n.prototype),o}).apply(null,arguments)}function Ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function et(e,t){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(u,e);var t,n,r,o,i,c=(t=u,n=Ze(),function(){var e,r=tt(t);if(n){var o=tt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return qe(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).name="GVLError",t}return r=u,o&&Ke(r.prototype,o),i&&Ke(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}($e(Error));function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ut(e){var t="function"==typeof Map?new Map:void 0;return(ut=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return at(e,arguments,lt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ft(r,e)})(e)}function at(e,t,n){return(at=st()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ft(o,n.prototype),o}).apply(null,arguments)}function st(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ft(e,t){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(u,e);var t,n,r,o,i,c=(t=u,n=st(),function(){var e,r=lt(t);if(n){var o=lt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ct(this,e)});function u(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return it(this,u),(n=c.call(this,"invalid value ".concat(t," passed for ").concat(e," ").concat(r))).name="TCModelError",n}return r=u,o&&ot(r.prototype,o),i&&ot(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(ut(Error));function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ht=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new Ye("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",r=0;r<e.length;r+=this.BASIS)n+=this.DICT[parseInt(e.substr(r,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new Ue("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}],(n=null)&&yt(t.prototype,n),r&&yt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();dt(ht,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),dt(ht,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),dt(ht,"BASIS",6),dt(ht,"LCM",24);n(99),n(132);function bt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gt,wt,Ot,Et=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"parseLanguage",value:function(t){var n=(t=t.toUpperCase()).split("-")[0];if(t.length>=2&&2==n.length){if(e.langSet.has(t))return t;if(e.langSet.has(n))return n;var r=n+"-"+n;if(e.langSet.has(r))return r;var o,i=bt(e.langSet);try{for(i.s();!(o=i.n()).done;){var c=o.value;if(-1!==c.indexOf(t)||-1!==c.indexOf(n))return c}}catch(e){i.e(e)}finally{i.f()}}throw new Error("unsupported language ".concat(t))}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])&&mt(t.prototype,n),r&&mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&jt(e.prototype,t),n&&jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gt=Et,wt="langSet",Ot=new Set(["AR","BG","BS","CA","CS","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SR-LATN","SR-CYRL","SV","TR","ZH"]),wt in gt?Object.defineProperty(gt,wt,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):gt[wt]=Ot;var _t=Pt((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));St(_t,"cmpId","cmpId"),St(_t,"cmpVersion","cmpVersion"),St(_t,"consentLanguage","consentLanguage"),St(_t,"consentScreen","consentScreen"),St(_t,"created","created"),St(_t,"supportOOB","supportOOB"),St(_t,"isServiceSpecific","isServiceSpecific"),St(_t,"lastUpdated","lastUpdated"),St(_t,"numCustomPurposes","numCustomPurposes"),St(_t,"policyVersion","policyVersion"),St(_t,"publisherCountryCode","publisherCountryCode"),St(_t,"publisherCustomConsents","publisherCustomConsents"),St(_t,"publisherCustomLegitimateInterests","publisherCustomLegitimateInterests"),St(_t,"publisherLegitimateInterests","publisherLegitimateInterests"),St(_t,"publisherConsents","publisherConsents"),St(_t,"publisherRestrictions","publisherRestrictions"),St(_t,"purposeConsents","purposeConsents"),St(_t,"purposeLegitimateInterests","purposeLegitimateInterests"),St(_t,"purposeOneTreatment","purposeOneTreatment"),St(_t,"specialFeatureOptins","specialFeatureOptins"),St(_t,"useNonStandardTexts","useNonStandardTexts"),St(_t,"vendorConsents","vendorConsents"),St(_t,"vendorLegitimateInterests","vendorLegitimateInterests"),St(_t,"vendorListVersion","vendorListVersion"),St(_t,"vendorsAllowed","vendorsAllowed"),St(_t,"vendorsDisclosed","vendorsDisclosed"),St(_t,"version","version");n(49);function Ct(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rt,Lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var r=e.deepClone(e[n]);void 0!==r&&(t[n]=r)})),t}},{key:"deepClone",value:function(e){var t=Tt(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n,r=[],o=Ct(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push(this.deepClone(i))}}catch(e){o.e(e)}finally{o.f()}return e instanceof Array?r:new e.constructor(r)}var c={};for(var u in e)e.hasOwnProperty(u)&&(c[u]=this.deepClone(e[u]));return c}}}])&&kt(t.prototype,n),r&&kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nt(this,n)}}function Nt(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ut(e)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(Rt||(Rt={}));var Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}(i,e);var t,n,r,o=xt(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ft(Ut(n=o.call(this)),"purposeId_",void 0),Ft(Ut(n),"restrictionType",void 0),void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}return t=i,r=[{key:"unHash",value:function(e){var t=e.split(this.hashSeparator),n=new i;if(2!==t.length)throw new pt("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}}],(n=[{key:"hash",get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(i.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===Rt.NOT_ALLOWED||this.restrictionType===Rt.REQUIRE_CONSENT||this.restrictionType===Rt.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}])&&Vt(t.prototype,n),r&&Vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Lt);Ft(Bt,"hashSeparator","-");n(65),n(69),n(70),n(185);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return(Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);if(t){var o=$t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kt(this,n)}}function Kt(e,t){if(t&&("object"===Gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt,en,tn,nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(i,e);var t,n,r,o=zt(i);function i(){var e;Jt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xt(qt(e=o.call.apply(o,[this].concat(n))),"bitLength",0),Xt(qt(e),"map",new Map),Xt(qt(e),"gvl_",void 0),e}return t=i,(n=[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var r,o=!0;if(null!==(r=this.gvl)&&void 0!==r&&r.vendors){var i=this.gvl.vendors[n];if(i)if(e===Rt.NOT_ALLOWED)o=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case Rt.REQUIRE_CONSENT:o=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case Rt.REQUIRE_LI:o=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else o=!1;else o=!1}return o}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Array.from(this.gvl.vendorIds),n=e.hash;if(this.has(n)){var r,o=this.map.get(n),i=Ht(t);try{for(i.s();!(r=i.n()).done;){var c=r.value;o.add(c)}}catch(e){i.e(e)}finally{i.f()}}else this.map.set(n,new Set(t)),this.bitLength=0}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{var r=new Set;this.map.forEach((function(e){Array.from(e).forEach((function(e){r.add(e)}))})),t=Array.from(r)}return t.sort((function(e,t){return e-t}))}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,r=this.getRestrictions(e),o=0;o<r.length&&!n;o++)n=t.isSameAs(r[o]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach((function(t){var n=Array.from(t);e=Math.max(n[n.length-1],e)})),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach((function(n,r){e?n.has(e)&&t.push(Bt.unHash(r)):t.push(Bt.unHash(r))})),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach((function(t,n){e.add(Bt.unHash(n).purposeId)})),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,r=this.map.get(n);r&&(r.delete(e),0==r.size&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach((function(e,n){var r=Bt.unHash(n);Array.from(e).forEach((function(n){t.isOkToHave(r.restrictionType,r.purposeId,n)||e.delete(n)}))})))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}])&&Wt(t.prototype,n),r&&Wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Lt);function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t,n){return t&&rn(e.prototype,t),n&&rn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(Zt||(Zt={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(en||(en={}));var un=on((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));cn(un,"ID_TO_KEY",[en.CORE,en.VENDORS_DISCLOSED,en.VENDORS_ALLOWED,en.PUBLISHER_TC]),cn(un,"KEY_TO_ID",(cn(tn={},en.CORE,0),cn(tn,en.VENDORS_DISCLOSED,1),cn(tn,en.VENDORS_ALLOWED,2),cn(tn,en.PUBLISHER_TC,3),tn));var an;n(188),n(137),n(138),n(139),n(63),n(189);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function a(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),c=new j(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var u=w(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=s(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(e,n,c),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var f={};function l(){}function p(){}function y(){}var d={};u(d,o,(function(){return this}));var h=Object.getPrototypeOf,b=h&&h(h(P([])));b&&b!==t&&n.call(b,o)&&(d=b);var v=y.prototype=l.prototype=Object.create(d);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,i){function c(){return new t((function(r,c){!function r(o,i,c,u){var a=s(e[o],e,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==sn(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,c,u)}),(function(e){r("throw",e,c,u)})):t.resolve(l).then((function(e){f.value=e,c(f)}),(function(e){return r("throw",e,c,u)}))}u(a.arg)}(o,i,r,c)}))}return r=r?r.then(c,c):c()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=y,u(v,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var c=new g(a(t,n,r,o),i);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},m(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return(yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var o=vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hn(this,n)}}function hn(e,t){if(t&&("object"===sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}an=Symbol.iterator;var gn,wn,On,En,jn,Pn,Sn,_n,Cn,In,Tn,kn,Rn,Ln,An,Vn,Dn,xn,Nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(i,e);var t,n,r,o=dn(i);function i(){var e;ln(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mn(bn(e=o.call.apply(o,[this].concat(n))),"bitLength",0),mn(bn(e),"maxId_",0),mn(bn(e),"set_",new Set),e}return t=i,(n=[{key:an,value:fn().mark((function e(){var t;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<=this.maxId)){e.next=7;break}return e.next=4,[t,this.has(t)];case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):"object"===sn(e)?this.unset(Object.keys(e).map((function(e){return Number(e)}))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))}},{key:"isIntMap",value:function(e){var t=this,n="object"===sn(e);return n=n&&Object.keys(e).every((function(n){var r=Number.isInteger(parseInt(n,10));return r=(r=r&&t.isValidNumber(e[n].id))&&void 0!==e[n].name}))}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((function(e){return Number(e)})));else{if(!this.isValidNumber(e))throw new pt("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}])&&pn(t.prototype,n),r&&pn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Lt);function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return t&&Un(e.prototype,t),n&&Un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gn=_t.cmpId,wn=_t.cmpVersion,On=_t.consentLanguage,En=_t.consentScreen,jn=_t.created,Pn=_t.isServiceSpecific,Sn=_t.lastUpdated,_n=_t.policyVersion,Cn=_t.publisherCountryCode,In=_t.publisherLegitimateInterests,Tn=_t.publisherConsents,kn=_t.purposeConsents,Rn=_t.purposeLegitimateInterests,Ln=_t.purposeOneTreatment,An=_t.specialFeatureOptins,Vn=_t.useNonStandardTexts,Dn=_t.vendorListVersion,xn=_t.version;var Bn=Mn((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Fn(Bn,gn,12),Fn(Bn,wn,12),Fn(Bn,On,12),Fn(Bn,En,6),Fn(Bn,jn,36),Fn(Bn,Pn,1),Fn(Bn,Sn,36),Fn(Bn,_n,6),Fn(Bn,Cn,12),Fn(Bn,In,24),Fn(Bn,Tn,24),Fn(Bn,kn,24),Fn(Bn,Rn,24),Fn(Bn,Ln,1),Fn(Bn,An,12),Fn(Bn,Vn,1),Fn(Bn,Dn,12),Fn(Bn,xn,6),Fn(Bn,"anyBoolean",1),Fn(Bn,"encodingType",1),Fn(Bn,"maxId",16),Fn(Bn,"numCustomPurposes",6),Fn(Bn,"numEntries",12),Fn(Bn,"numRestrictions",12),Fn(Bn,"purposeId",6),Fn(Bn,"restrictionType",2),Fn(Bn,"segmentType",3),Fn(Bn,"singleOrRange",1),Fn(Bn,"vendorId",16);var Hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}],(n=null)&&Gn(t.prototype,n),r&&Gn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new Ye("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new Ue("invalid bit length");return parseInt(e,2)}}],(n=null)&&Qn(t.prototype,n),r&&Qn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){return Jn.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new Ue("invalid bit length");var n=new Date;return n.setTime(100*Jn.decode(e,t)),n}}],(n=null)&&Wn(t.prototype,n),r&&Wn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){for(var n="",r=1;r<=t;r++)n+=Hn.encode(e.has(r));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new Ue("bitfield encoding length mismatch");for(var n=new Nn,r=1;r<=t;r++)Hn.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}],(n=null)&&zn(t.prototype,n),r&&zn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||n>25||r<0||r>25)throw new Ye("invalid language code: ".concat(e));if(t%2==1)throw new Ye("numBits must be even, ".concat(t," is not valid"));return t/=2,Jn.encode(n,t)+Jn.encode(r,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new Ue("invalid bit length for language");var n=e.length/2,r=Jn.decode(e.slice(0,n),n)+65,o=Jn.decode(e.slice(n),n)+65;return String.fromCharCode(r)+String.fromCharCode(o)}}],(n=null)&&qn(t.prototype,n),r&&qn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zn,er=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){var t=Jn.encode(e.numRestrictions,Bn.numRestrictions);if(!e.isEmpty()){var n=Array.from(e.gvl.vendorIds),r=function(e,t){var r=n.indexOf(e);return n.indexOf(t)-r>1};e.getRestrictions().forEach((function(n){t+=Jn.encode(n.purposeId,Bn.purposeId),t+=Jn.encode(n.restrictionType,Bn.restrictionType);for(var o=e.getVendors(n),i=o.length,c=0,u=0,a="",s=0;s<i;s++){var f=o[s];if(0===u&&(c++,u=f),s===i-1||r(f,o[s+1])){var l=!(f===u);a+=Hn.encode(l),a+=Jn.encode(u,Bn.vendorId),l&&(a+=Jn.encode(f,Bn.vendorId)),u=0}}t+=Jn.encode(c,Bn.numEntries),t+=a}))}return t}},{key:"decode",value:function(e){var t=0,n=new nn,r=Jn.decode(e.substr(t,Bn.numRestrictions),Bn.numRestrictions);t+=Bn.numRestrictions;for(var o=0;o<r;o++){var i=Jn.decode(e.substr(t,Bn.purposeId),Bn.purposeId);t+=Bn.purposeId;var c=Jn.decode(e.substr(t,Bn.restrictionType),Bn.restrictionType);t+=Bn.restrictionType;var u=new Bt(i,c),a=Jn.decode(e.substr(t,Bn.numEntries),Bn.numEntries);t+=Bn.numEntries;for(var s=function(r){var o=Hn.decode(e.substr(t,Bn.anyBoolean));t+=Bn.anyBoolean;var i=Jn.decode(e.substr(t,Bn.vendorId),Bn.vendorId);if(t+=Bn.vendorId,o){var c=Jn.decode(e.substr(t,Bn.vendorId),Bn.vendorId);if(t+=Bn.vendorId,c<i)throw new Ue("Invalid RangeEntry: endVendorId ".concat(c," is less than ").concat(i));var a=Array.from({length:c-i+1},(function(e,t){return i+t}));n.restrictPurposeToLegalBasis(u,a)}else n.restrictPurposeToLegalBasis(u,[i])},f=0;f<a;f++)s()}return n.bitLength=t,n}}],(n=null)&&Xn(t.prototype,n),r&&Xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(Zn||(Zn={}));var nr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e){var t,n=[],r=[],o=Jn.encode(e.maxId,Bn.maxId),i="",c=Bn.maxId+Bn.encodingType,u=c+e.maxId,a=2*Bn.vendorId+Bn.singleOrRange+Bn.numEntries,s=c+Bn.numEntries;return e.forEach((function(o,c){i+=Hn.encode(o),(t=e.maxId>a&&s<u)&&o&&(e.has(c+1)?0===r.length&&(r.push(c),s+=Bn.singleOrRange,s+=Bn.vendorId):(r.push(c),s+=Bn.vendorId,n.push(r),r=[]))})),t?(o+=String(Zn.RANGE),o+=this.buildRangeEncoding(n)):(o+=String(Zn.FIELD),o+=i),o}},{key:"decode",value:function(e,t){var n,r=0,o=Jn.decode(e.substr(r,Bn.maxId),Bn.maxId);r+=Bn.maxId;var i=Jn.decode(e.charAt(r),Bn.encodingType);if(r+=Bn.encodingType,i===Zn.RANGE){if(n=new Nn,1===t){if("1"===e.substr(r,1))throw new Ue("Unable to decode default consent=1");r++}var c=Jn.decode(e.substr(r,Bn.numEntries),Bn.numEntries);r+=Bn.numEntries;for(var u=0;u<c;u++){var a=Hn.decode(e.charAt(r));r+=Bn.singleOrRange;var s=Jn.decode(e.substr(r,Bn.vendorId),Bn.vendorId);if(r+=Bn.vendorId,a){var f=Jn.decode(e.substr(r,Bn.vendorId),Bn.vendorId);r+=Bn.vendorId;for(var l=s;l<=f;l++)n.set(l)}else n.set(s)}}else{var p=e.substr(r,o);r+=o,n=Kn.decode(p,o)}return n.bitLength=r,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=Jn.encode(t,Bn.numEntries);return e.forEach((function(e){var t=1===e.length;n+=Hn.encode(!t),n+=Jn.encode(e[0],Bn.vendorId),t||(n+=Jn.encode(e[1],Bn.vendorId))})),n}}],(n=null)&&tr(t.prototype,n),r&&tr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(){var e;return rr(e={},_t.version,Jn),rr(e,_t.created,Yn),rr(e,_t.lastUpdated,Yn),rr(e,_t.cmpId,Jn),rr(e,_t.cmpVersion,Jn),rr(e,_t.consentScreen,Jn),rr(e,_t.consentLanguage,$n),rr(e,_t.vendorListVersion,Jn),rr(e,_t.policyVersion,Jn),rr(e,_t.isServiceSpecific,Hn),rr(e,_t.useNonStandardTexts,Hn),rr(e,_t.specialFeatureOptins,Kn),rr(e,_t.purposeConsents,Kn),rr(e,_t.purposeLegitimateInterests,Kn),rr(e,_t.purposeOneTreatment,Hn),rr(e,_t.publisherCountryCode,$n),rr(e,_t.vendorConsents,nr),rr(e,_t.vendorLegitimateInterests,nr),rr(e,_t.publisherRestrictions,er),rr(e,"segmentType",Jn),rr(e,_t.vendorsDisclosed,nr),rr(e,_t.vendorsAllowed,nr),rr(e,_t.publisherConsents,Kn),rr(e,_t.publisherLegitimateInterests,Kn),rr(e,_t.numCustomPurposes,Jn),rr(e,_t.publisherCustomConsents,Kn),rr(e,_t.publisherCustomLegitimateInterests,Kn),e}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t&&ir(e.prototype,t),n&&ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ar=cr((function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ur(this,"1",ur({},en.CORE,[_t.version,_t.created,_t.lastUpdated,_t.cmpId,_t.cmpVersion,_t.consentScreen,_t.consentLanguage,_t.vendorListVersion,_t.purposeConsents,_t.vendorConsents])),ur(this,"2",(ur(t={},en.CORE,[_t.version,_t.created,_t.lastUpdated,_t.cmpId,_t.cmpVersion,_t.consentScreen,_t.consentLanguage,_t.vendorListVersion,_t.policyVersion,_t.isServiceSpecific,_t.useNonStandardTexts,_t.specialFeatureOptins,_t.purposeConsents,_t.purposeLegitimateInterests,_t.purposeOneTreatment,_t.publisherCountryCode,_t.vendorConsents,_t.vendorLegitimateInterests,_t.publisherRestrictions]),ur(t,en.PUBLISHER_TC,[_t.publisherConsents,_t.publisherLegitimateInterests,_t.numCustomPurposes,_t.publisherCustomConsents,_t.publisherCustomLegitimateInterests]),ur(t,en.VENDORS_ALLOWED,[_t.vendorsAllowed]),ur(t,en.VENDORS_DISCLOSED,[_t.vendorsDisclosed]),t))}));function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t,n){return t&&sr(e.prototype,t),n&&sr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pr=fr((function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lr(this,"1",[en.CORE]),lr(this,"2",[en.CORE]),2===t.version)if(t.isServiceSpecific)this[2].push(en.PUBLISHER_TC);else{var r=!(!n||!n.isForVendors);r&&!0!==t[_t.supportOOB]||this[2].push(en.VENDORS_DISCLOSED),r&&(t[_t.supportOOB]&&t[_t.vendorsAllowed].size>0&&this[2].push(en.VENDORS_ALLOWED),this[2].push(en.PUBLISHER_TC))}}));function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n,r=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new Ye("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var o="";t!==en.CORE&&(o=Jn.encode(un.KEY_TO_ID[t],Bn.segmentType));var i=or();return n.forEach((function(n){var c=e[n],u=i[n],a=Bn[n];void 0===a&&r.isPublisherCustom(n)&&(a=Number(e[_t.numCustomPurposes]));try{o+=u.encode(c,a)}catch(e){throw new Ye("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}})),ht.encode(o)}},{key:"decode",value:function(e,t,n){var r=this,o=ht.decode(e),i=0;n===en.CORE&&(t.version=Jn.decode(o.substr(i,Bn[_t.version]),Bn[_t.version])),n!==en.CORE&&(i+=Bn.segmentType);var c=this.fieldSequence[String(t.version)][n],u=or();return c.forEach((function(e){var n=u[e],c=Bn[e];if(void 0===c&&r.isPublisherCustom(e)&&(c=Number(t[_t.numCustomPurposes])),0!==c){var a=o.substr(i,c);if(t[e]=n===nr?n.decode(a,t.version):n.decode(a,c),Number.isInteger(c))i+=c;else{if(!Number.isInteger(t[e].bitLength))throw new Ue(e);i+=t[e].bitLength}}})),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}],(n=null)&&yr(t.prototype,n),r&&yr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dr,"fieldSequence",new ar);var br=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new Ye("Unable to encode TCModel without a GVL");if(!n.isReady)throw new Ye("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var r=e.version-1;if(!this.processor[r])throw new Ye("Invalid version: ".concat(e.version));return this.processor[r](e,n)}}],(n=null)&&hr(t.prototype,n),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(br,"processor",[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((function(n,r){n.forEach((function(o,i){if(o){var c=t.vendors[i];if(!c||c.deletedDate)n.unset(i);else if(0===c[r].length)if("legIntPurposes"===r&&0===c.purposes.length&&0===c.legIntPurposes.length&&c.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===c.flexiblePurposes.length)n.unset(i);else{for(var u=e.publisherRestrictions.getRestrictions(i),a=!1,s=0,f=u.length;s<f&&!a;s++)a=u[s].restrictionType===Rt.REQUIRE_CONSENT&&"purposes"===r||u[s].restrictionType===Rt.REQUIRE_LI&&"legIntPurposes"===r;a||n.unset(i)}else n.unset(i)}}))})),e.vendorsDisclosed.set(t.vendors),e}]);n(140);function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"absCall",value:function(e,t,n,r){return new Promise((function(o,i){var c=new XMLHttpRequest;c.withCredentials=n,c.addEventListener("load",(function(){if(c.readyState==XMLHttpRequest.DONE)if(c.status>=200&&c.status<300){var e=c.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}o(e)}else i(new Error("HTTP Status: ".concat(c.status," response type: ").concat(c.responseType)))})),c.addEventListener("error",(function(){i(new Error("error"))})),c.addEventListener("abort",(function(){i(new Error("aborted"))})),null===t?c.open("GET",e,!0):c.open("POST",e,!0),c.responseType="json",c.timeout=r,c.ontimeout=function(){i(new Error("Timeout "+r+"ms "+e))},c.send(t)}))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,r)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}],(n=null)&&vr(t.prototype,n),r&&vr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function a(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),c=new j(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var u=w(c,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=s(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(e,n,c),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var f={};function l(){}function p(){}function y(){}var d={};u(d,o,(function(){return this}));var h=Object.getPrototypeOf,b=h&&h(h(P([])));b&&b!==t&&n.call(b,o)&&(d=b);var v=y.prototype=l.prototype=Object.create(d);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(o,i){function c(){return new t((function(r,c){!function r(o,i,c,u){var a=s(e[o],e,i);if("throw"!==a.type){var f=a.arg,l=f.value;return l&&"object"==gr(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,c,u)}),(function(e){r("throw",e,c,u)})):t.resolve(l).then((function(e){f.value=e,c(f)}),(function(e){return r("throw",e,c,u)}))}u(a.arg)}(o,i,r,c)}))}return r=r?r.then(c,c):c()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=y,u(v,"constructor",y),u(y,"constructor",p),p.displayName=u(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var c=new g(a(t,n,r,o),i);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},m(v),u(v,c,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=e,c.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Or(e,t,n,r,o,i,c){try{var u=e[i](c),a=u.value}catch(e){return void n(e)}u.done?t(a):Promise.resolve(a).then(r,o)}function Er(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){Or(i,r,o,c,u,"next",e)}function u(e){Or(i,r,o,c,u,"throw",e)}c(void 0)}))}}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t){return(Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ir(e);if(t){var o=Ir(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _r(this,n)}}function _r(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cr(e)}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}(u,e);var t,n,r,o,i,c=Sr(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),Tr(Cr(t=c.call(this)),"readyPromise",void 0),Tr(Cr(t),"gvlSpecificationVersion",void 0),Tr(Cr(t),"vendorListVersion",void 0),Tr(Cr(t),"tcfPolicyVersion",void 0),Tr(Cr(t),"lastUpdated",void 0),Tr(Cr(t),"purposes",void 0),Tr(Cr(t),"specialPurposes",void 0),Tr(Cr(t),"features",void 0),Tr(Cr(t),"specialFeatures",void 0),Tr(Cr(t),"isReady_",!1),Tr(Cr(t),"vendors_",void 0),Tr(Cr(t),"vendorIds",void 0),Tr(Cr(t),"fullVendorList",void 0),Tr(Cr(t),"byPurposeVendorMap",void 0),Tr(Cr(t),"bySpecialPurposeVendorMap",void 0),Tr(Cr(t),"byFeatureVendorMap",void 0),Tr(Cr(t),"bySpecialFeatureVendorMap",void 0),Tr(Cr(t),"stacks",void 0),Tr(Cr(t),"dataCategories",void 0),Tr(Cr(t),"lang_",void 0),Tr(Cr(t),"cacheLang_",void 0),Tr(Cr(t),"isLatest",!1);var n=u.baseUrl;if(t.lang_=u.DEFAULT_LANGUAGE,t.cacheLang_=u.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new nt("must specify GVL.baseUrl before loading GVL json");if(e>0){var r=e;u.CACHE.has(r)?(t.populate(u.CACHE.get(r)),t.readyPromise=Promise.resolve()):(n+=u.versionedFilename.replace("[VERSION]",String(r)),t.readyPromise=t.fetchJson(n))}else u.CACHE.has(u.LATEST_CACHE_KEY)?(t.populate(u.CACHE.get(u.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+u.latestFilename))}return t}return t=u,n=[{key:"cacheLanguage",value:function(){u.LANGUAGE_CACHE.has(this.cacheLang_)||u.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}},{key:"fetchJson",value:(i=Er(wr().mark((function e(t){return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this,e.next=4,mr.fetch(t);case 4:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=11;break;case 8:throw e.prev=8,e.t2=e.catch(0),new nt(e.t2.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return i.apply(this,arguments)})},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}},{key:"changeLanguage",value:(o=Er(wr().mark((function e(t){var n,r,o,i,c;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t,e.prev=1,n=u.consentLanguages.parseLanguage(t),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),new nt("Error during parsing the language: "+e.t0.message);case 8:if(r=t.toUpperCase(),n.toLowerCase()!==u.DEFAULT_LANGUAGE.toLowerCase()||u.LANGUAGE_CACHE.has(r)){e.next=11;break}return e.abrupt("return");case 11:if(n===this.lang_){e.next=29;break}if(this.lang_=n,!u.LANGUAGE_CACHE.has(r)){e.next=18;break}for(i in o=u.LANGUAGE_CACHE.get(r))o.hasOwnProperty(i)&&(this[i]=o[i]);e.next=29;break;case 18:return c=u.baseUrl+u.languageFilename.replace("[LANG]",this.lang_.toLowerCase()),e.prev=19,e.next=22,this.fetchJson(c);case 22:this.cacheLang_=r,this.cacheLanguage(),e.next=29;break;case 26:throw e.prev=26,e.t1=e.catch(19),new nt("unable to load language: "+e.t1.message);case 29:case"end":return e.stop()}}),e,this,[[1,5],[19,26]])}))),function(e){return o.apply(this,arguments)})},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&u.CACHE.set(u.LATEST_CACHE_KEY,this.getJson()),u.CACHE.has(this.vendorListVersion)||u.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors_=e.reduce((function(e,n){var r=t.vendors_[String(n)];return r&&void 0===r.deletedDate&&(r.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),r.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),r.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),r.flexiblePurposes&&r.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),r.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),r.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=r),e}),{})}},{key:"getFilteredVendors",value:function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),c={};return("purpose"===e&&n?this["by"+i+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+i+"VendorMap"][String(t)]).forEach((function(e){c[String(e)]=o.vendors[String(e)]})),c}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var e=new u(this.getJson());return this.lang_!==u.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}}],r=[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new nt("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(e){var t=!1;return null==e&&u.LANGUAGE_CACHE.size>0?(u.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(u.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}},{key:"emptyCache",value:function(e){var t=!1;return Number.isInteger(e)&&e>=0?(u.CACHE.delete(e),t=!0):void 0===e&&(u.CACHE=new Map,t=!0),t}},{key:"isInstanceOf",value:function(e){return"object"===gr(e)&&"function"==typeof e.narrowVendorsTo}}],n&&jr(t.prototype,n),r&&jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Lt);function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t){return(Ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nr(e);if(t){var o=Nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dr(this,n)}}function Dr(e,t){if(t&&("object"===Rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xr(e)}function xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Tr(kr,"LANGUAGE_CACHE",new Map),Tr(kr,"CACHE",new Map),Tr(kr,"LATEST_CACHE_KEY",0),Tr(kr,"DEFAULT_LANGUAGE","EN"),Tr(kr,"consentLanguages",new Et),Tr(kr,"baseUrl_",void 0),Tr(kr,"latestFilename","vendor-list.json"),Tr(kr,"versionedFilename","archives/vendor-list-v[VERSION].json"),Tr(kr,"languageFilename","purposes-[LANG].json");var Mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ar(e,t)}(i,e);var t,n,r,o=Vr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ur(xr(t=o.call(this)),"isServiceSpecific_",!1),Ur(xr(t),"supportOOB_",!0),Ur(xr(t),"useNonStandardTexts_",!1),Ur(xr(t),"purposeOneTreatment_",!1),Ur(xr(t),"publisherCountryCode_","AA"),Ur(xr(t),"version_",2),Ur(xr(t),"consentScreen_",0),Ur(xr(t),"policyVersion_",4),Ur(xr(t),"consentLanguage_","EN"),Ur(xr(t),"cmpId_",0),Ur(xr(t),"cmpVersion_",0),Ur(xr(t),"vendorListVersion_",0),Ur(xr(t),"numCustomPurposes_",0),Ur(xr(t),"gvl_",void 0),Ur(xr(t),"created",void 0),Ur(xr(t),"lastUpdated",void 0),Ur(xr(t),"specialFeatureOptins",new Nn),Ur(xr(t),"purposeConsents",new Nn),Ur(xr(t),"purposeLegitimateInterests",new Nn),Ur(xr(t),"publisherConsents",new Nn),Ur(xr(t),"publisherLegitimateInterests",new Nn),Ur(xr(t),"publisherCustomConsents",new Nn),Ur(xr(t),"publisherCustomLegitimateInterests",new Nn),Ur(xr(t),"customPurposes",void 0),Ur(xr(t),"vendorConsents",new Nn),Ur(xr(t),"vendorLegitimateInterests",new Nn),Ur(xr(t),"vendorsDisclosed",new Nn),Ur(xr(t),"vendorsAllowed",new Nn),Ur(xr(t),"publisherRestrictions",new nn),e&&(t.gvl=e),t.updated(),t}return t=i,(n=[{key:"gvl",get:function(){return this.gvl_},set:function(e){kr.isInstanceOf(e)||(e=new kr(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new pt("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new pt("cmpVersion",e);this.cmpVersion_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new pt("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new pt("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)>>0)<0)throw new pt("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new pt("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardTexts",get:function(){return this.useNonStandardTexts_},set:function(e){this.useNonStandardTexts_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;if("object"===Rr(this.customPurposes)){var t=Object.keys(this.customPurposes).sort((function(e,t){return Number(e)-Number(t)}));e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new pt("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}])&&Lr(t.prototype,n),r&&Lr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Lt);function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ur(Mr,"consentLanguages",kr.consentLanguages);var Br=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(e,t){var n,r="";return e=br.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new pr(e,t)[""+e.version]).forEach((function(t,o){var i="";o<n.length-1&&(i="."),r+=dr.encode(e,t)+i})),r}},{key:"decode",value:function(e,t){var n=e.split("."),r=n.length;t||(t=new Mr);for(var o=0;o<r;o++){var i=n[o],c=ht.decode(i.charAt(0)).substr(0,Bn.segmentType),u=un.ID_TO_KEY[Jn.decode(c,Bn.segmentType).toString()];dr.decode(i,t,u)}return t}}],(n=null)&&Fr(t.prototype,n),r&&Fr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t){return(Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var o=zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(e,t){if(t&&("object"===Gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jr(e,t)}(i,e);var t,n,r,o=Wr(i);function i(){return Hr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){var e,t=this,n=P.tcModel,r=n.vendorListVersion;void 0===this.param&&(this.param=r),(e=this.param===r&&n.gvl?n.gvl:new kr(this.param)).readyPromise.then((function(){t.invokeCallback(e.getJson())}))}}])&&Qr(t.prototype,n),r&&Qr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(f);n(183),n(64);function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(){return(Zr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=eo(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function eo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oo(e)););return e}function to(e,t){return(to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oo(e);if(t){var o=oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ro(this,n)}}function ro(e,t){if(t&&("object"===qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&to(e,t)}(i,e);var t,n,r,o=no(i);function i(){return $r(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.listenerId=P.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),Zr(oo(i.prototype),"respond",this).call(this)}}])&&Xr(t.prototype,n),r&&Xr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(m);function co(e){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return(so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=po(e);if(t){var o=po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lo(this,n)}}function lo(e,t){if(t&&("object"===co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function po(e){return(po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yo,ho,bo,vo,mo,go,wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&so(e,t)}(i,e);var t,n,r,o=fo(i);function i(){return uo(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"respond",value:function(){this.invokeCallback(P.eventQueue.remove(this.param))}}])&&ao(t.prototype,n),r&&ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(f);function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t,n){return t&&Oo(e.prototype,t),n&&Oo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yo=r.PING,ho=r.GET_TC_DATA,bo=r.GET_IN_APP_TC_DATA,vo=r.GET_VENDOR_LIST,mo=r.ADD_EVENT_LISTENER,go=r.REMOVE_EVENT_LISTENER;var Po=Eo((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}jo(Po,yo,Oe),jo(Po,ho,m),jo(Po,bo,Te),jo(Po,vo,Kr),jo(Po,mo,io),jo(Po,go,wo);var _o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"has",value:function(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}],(n=null)&&So(t.prototype,n),r&&So(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Co(e){return function(e){if(Array.isArray(e))return Io(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(_o,"set_",new Set([0,2,void 0,null]));var Ro=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ko(this,"callQueue",void 0),ko(this,"customCommands",void 0),t){var n=r.ADD_EVENT_LISTENER;if(null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed: Use ").concat(r.GET_TC_DATA," instead"));if(n=r.REMOVE_EVENT_LISTENER,null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed"));null!=t&&t[r.GET_TC_DATA]&&(t[r.ADD_EVENT_LISTENER]=t[r.GET_TC_DATA],t[r.REMOVE_EVENT_LISTENER]=t[r.GET_TC_DATA]),this.customCommands=t}try{this.callQueue=window.__tcfapi()||[]}catch(e){this.callQueue=[]}finally{window.__tcfapi=this.apiCall.bind(this),this.purgeQueuedCalls()}}var t,n,o;return t=e,(n=[{key:"apiCall",value:function(e,t,n){for(var o=arguments.length,i=new Array(o>3?o-3:0),c=3;c<o;c++)i[c-3]=arguments[c];if("string"!=typeof e)n(null,!1);else if(_o.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");if(P.disabled)n(new U,!1);else if(this.isCustomCommand(e)||this.isBuiltInCommand(e))if(this.isCustomCommand(e)&&!this.isBuiltInCommand(e)){var u;(u=this.customCommands)[e].apply(u,[n].concat(i))}else e===r.PING?this.isCustomCommand(e)?new Po[e](this.customCommands[e],i[0],null,n):new Po[e](n,i[0]):void 0===P.tcModel?this.callQueue.push([e,t,n].concat(i)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new Po[e](this.customCommands[e],i[0],null,n):new Po[e](n,i[0]);else n(null,!1)}else n(null,!1)}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach((function(e){var t;(t=window).__tcfapi.apply(t,Co(e))}))}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==Po[e]}}])&&To(t.prototype,n),o&&To(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Do=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;Lo(this,e),Vo(this,"callResponder",void 0),Vo(this,"isServiceSpecific",void 0),Vo(this,"numUpdates",0),this.throwIfInvalidInt(t,"cmpId",2),this.throwIfInvalidInt(n,"cmpVersion",0),P.cmpId=t,P.cmpVersion=n,P.tcfPolicyVersion=4,this.isServiceSpecific=!!r,this.callResponder=new Ro(o)}var t,n,r;return t=e,(n=[{key:"throwIfInvalidInt",value:function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error("Invalid ".concat(t,": ").concat(e))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(P.disabled)throw new Error("CmpApi Disabled");P.cmpStatus=i.LOADED,t?(P.displayStatus=c.VISIBLE,P.eventStatus=u.CMP_UI_SHOWN):void 0===P.tcModel?(P.displayStatus=c.DISABLED,P.eventStatus=u.TC_LOADED):(P.displayStatus=c.HIDDEN,P.eventStatus=u.USER_ACTION_COMPLETE),P.gdprApplies=null!==e,P.gdprApplies?(""===e?(P.tcModel=new Mr,P.tcModel.cmpId=P.cmpId,P.tcModel.cmpVersion=P.cmpVersion):P.tcModel=Br.decode(e),P.tcModel.isServiceSpecific=this.isServiceSpecific,P.tcfPolicyVersion=Number(P.tcModel.policyVersion),P.tcString=e):P.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():P.eventQueue.exec(),this.numUpdates++}},{key:"disable",value:function(){P.disabled=!0,P.cmpStatus=i.ERROR}}])&&Ao(t.prototype,n),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),xo=n(0),No=n(191);function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fo(e,t){return(Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ho(e);if(t){var o=Ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Go(this,n)}}function Go(e,t){if(t&&("object"===Uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fo(e,t)}(i,e);var t,n,r,o=Bo(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,t,n)).cmpApi=function(e,t,n,r){var o,i=this,c={getTCData:function(e,t,n){if("boolean"!=typeof t&&n&&(t.addtlConsent=Object(xo.getUserConsentData)("gdpr","addtlConsent")),"function"==typeof e)try{e.bind(i)(t,n)}catch(e){Object(xo.handleError)(new xo.CmpCallbackError(e),"gdpr")}}};return Object.assign(c,Object(No.a)(e,t,n)),r&&(o=Br.decode(r).cmpId),new Do(o=o||6,1,!0,c)}(r.config.cmpOrigin,r.config.mmsDomain,n,t.euconsent),r}return t=i,n&&Mo(t.prototype,n),r&&Mo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(o.default)},180:function(e,t,n){var r=n(1),o=n(3),i=n(15),c=n(100),u=n(135);r({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!u},{getPrototypeOf:function(e){return c(i(e))}})},181:function(e,t,n){var r=n(1),o=n(22),i=n(21),c=n(6),u=n(5),a=n(26),s=n(184),f=n(3),l=o("Reflect","construct"),p=f((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),y=!f((function(){l((function(){}))})),d=p||y;r({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(e,t){i(e),c(t);var n=arguments.length<3?e:i(arguments[2]);if(y&&!p)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(s.apply(e,r))}var o=n.prototype,f=a(u(o)?o:Object.prototype),d=Function.apply.call(e,f,t);return u(d)?d:f}})},182:function(e,t,n){"use strict";var r=n(141),o=n(142);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},183:function(e,t,n){var r=n(1),o=n(5),i=n(6),c=n(9),u=n(17),a=n(100);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,s,f=arguments.length<3?t:arguments[2];return i(t)===f?t[n]:(r=u.f(t,n))?c(r,"value")?r.value:void 0===r.get?void 0:r.get.call(f):o(s=a(t))?e(s,n,f):void 0}})},184:function(e,t,n){"use strict";var r=n(21),o=n(5),i=[].slice,c={},u=function(e,t,n){if(!(t in c)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";c[t]=Function("C,a","return new C("+r.join(",")+")")}return c[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),c=function(){var r=n.concat(i.call(arguments));return this instanceof c?u(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(c.prototype=t.prototype),c}},185:function(e,t,n){"use strict";var r=n(1),o=n(21),i=n(15),c=n(3),u=n(27),a=[],s=a.sort,f=c((function(){a.sort(void 0)})),l=c((function(){a.sort(null)})),p=u("sort");r({target:"Array",proto:!0,forced:f||!l||!p},{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(49),n(40),n(63),n(24),n(41),n(42),n(65),n(43),n(50),n(64),n(47),n(68);var r=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"hasMessage",value:function(){var e=this.campaignResponse,t=e.message,n=e.messageMetaData;return t&&n&&Object.keys(t.message_json).length>0&&0!==n.messageId}},{key:"getPvData",value:function(){return{}}},{key:"sendPvData",value:function(){var e=this.config,t=e.accountId,n=e.env,o=e.wrapperAPIOrigin,u=e.mmsDomain,a=e.pubData,s=this.getPvData();!function(e,t,n,o,u,a,s,f){if(!Object(r.sampleUser)(s))return Promise.resolve();var l=c({},s,i(i({},f),{},{accountId:t,siteId:n,propertyId:n,pubData:a,withSiteActions:"true",sampleRate:Object(r.sampleRate)(s)}));Object(r.fetch)("".concat(o,"/v2/pv-data"),{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"},params:{env:e}}).then(JSON.parse).then((function(e){return Promise.all(Object.keys(e).map((function(t){return Object(r.handleConsentData)(e[t],t,u)})))})).catch((function(e){return Promise.resolve()}))}(n,t,this.propertyId,o,u,a,this.category,s)}}])&&u(t.prototype,n),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},187:function(e,t,n){n(1)({target:"Number",stat:!0},{isInteger:n(193)})},188:function(e,t,n){n(71)("asyncIterator")},189:function(e,t,n){"use strict";var r=n(1),o=n(52),i=[].reverse,c=[1,2];r({target:"Array",proto:!0,forced:String(c)===String(c.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},190:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return f}));n(50),n(40),n(69),n(70),n(131),n(98),n(24),n(63),n(41),n(42),n(65),n(49),n(43),n(64),n(47),n(68);var r=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.getCustomVendorConsentFromMemory)());n.consentedVendors&&Array.isArray(e)&&e.length>0&&(n.consentedVendors=n.consentedVendors.filter((function(t){return e.includes(t._id.toString())})));try{t(n,!0)}catch(e){Object(r.handleError)(new r.CmpCallbackError(e),"gdpr")}},u=function(e,t,n){var o="".concat(e,"/vendor-list/vendor-purpose-mapping?siteId=").concat(t);Object(r.fetch)(o,{method:"GET"}).then((function(e){return JSON.parse(e)})).then((function(e){try{n(e,!0)}catch(e){Object(r.handleError)(new r.CmpCallbackError(e),"gdpr")}})).catch((function(e){try{n(null,!1)}catch(e){Object(r.handleError)(new r.CmpCallbackError(e),"gdpr")}Object(r.handleError)(e,"gdpr")}))},a=function(e,t,n,o,i,c,u){var a=Object(r.getUserConsentData)("gdpr","uuid"),s="".concat(e,"/consent/v3/custom/").concat(c);Object(r.fetch)(s,{method:"POST",params:{consentUUID:a},body:JSON.stringify({vendors:t,categories:n,legIntCategories:o}),headers:{"Content-Type":"application/json"}}).then((function(e){return JSON.parse(e)})).then((function(e){return Object(r.handleConsentData)(e,"gdpr",u).then((function(t){return e}))})).then((function(e){try{i(e,!0)}catch(e){Object(r.handleError)(new r.CmpCallbackError(e),"gdpr")}})).catch((function(e){try{i(null,!1)}catch(e){Object(r.handleError)(new r.CmpCallbackError(e),"gdpr")}Object(r.handleError)(e,"gdpr")}))},s=function(e,t,n,o){var i=Object(r.getUserConsentData)("gdpr","authId"),c=Object(r.getUserConsentData)("gdpr","uuid"),u=window._sp_&&window._sp_.config.accountId,a=Object(r.sampleRate)(),s=Object(r.sampleUser)();Object(r.fetch)("".concat(e,"/consent/v3/").concat(n,"/reject-all"),{headers:{"Content-Type":"application/json"},method:"POST",params:{accountId:u,authId:i,consentUUID:c,includeCustomVendorsRes:1,sampleRate:a,sendPVData:s,withSiteActions:!0}}).then((function(e){return JSON.parse(e)})).then((function(e){return Object(r.handleConsentData)(e,"gdpr",o).then((function(t){return e}))})).then((function(e){try{t(null,!0)}catch(e){Object(r.handleError)(new r.CmpCallbackError(e))}})).catch((function(e){try{t(null,!1)}catch(e){Object(r.handleError)(new r.CmpCallbackError(e))}Object(r.handleError)(e)}))},f=function(e){return Object(r.fetch)("".concat(e,"/consent/v2/delete-consent-cookies"),{method:"GET"}).then(JSON.parse).then((function(e){var t=e.actions,n=e.cookies;return Promise.all(t.map(r.executeAction)).then((function(e){return Object(r.setCookiesAction)(n,"","gdpr")}))}))}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(190);function o(e,t,n){return{getCustomVendorConsents:function(e,t){Object(r.b)(t,e)},postCustomConsent:function(o,i,c,u){Object(r.d)(e,i,c,u,o,n,t)},postRejectAll:function(o){Object(r.e)(e,o,n,t)},getVendorPurposeMapping:function(t){Object(r.c)(e,n,t)}}}},192:function(e,t,n){n(1)({target:"String",proto:!0},{repeat:n(194)})},193:function(e,t,n){var r=n(5),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},194:function(e,t,n){"use strict";var r=n(28),o=n(16);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}}}]);