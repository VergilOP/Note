// For license information, see `https://assets.adobedtm.com/extensions/EPa06d4a70bf964e93808ee073533d9238/AppMeasurement_Module_ActivityMap.js`.
function AppMeasurement_Module_ActivityMap(e){function t(){var e=s.pageYOffset+(s.innerHeight||0);e&&e>+f&&(f=e)}function n(){if(o.scrollReachSelector){var t=e.d.querySelector&&e.d.querySelector(o.scrollReachSelector);t?(f=t.scrollTop||0,t.addEventListener("scroll",(function(){var e;(e=t&&t.scrollTop+t.clientHeight||0)>f&&(f=e)}))):0<g--&&setTimeout(n,1e3)}}function r(e,t){var n,r,i;if(e&&t&&(n=o.c[t]||(o.c[t]=t.split(","))))for(i=0;i<n.length&&(r=n[i++]);)if(-1<e.indexOf(r))return null;return e}function i(t,n,r,i,a){var c,l;if((t.dataset&&(l=t.dataset[n])||t.getAttribute&&((l=t.getAttribute("data-"+r))||(l=t.getAttribute(r))))&&(c=l),!c&&e.useForcedLinkTracking&&a){var o;if(t=t.onclick?""+t.onclick:"",varValue="",i&&t&&0<=(n=t.indexOf(i))){for(n+=i.length;n<t.length;)if(r=t.charAt(n++),0<="'\"".indexOf(r)){o=r;break}for(l=!1;n<t.length&&o&&(r=t.charAt(n),l||r!==o);)"\\"===r?l=!0:(varValue+=r,l=!1),n++}(o=varValue)&&(e.w[i]=o)}return c||a&&e.w[i]}function a(e,t,n){var i;return(i=o[t](e,n))&&r(l(i),o[t+"Exclusions"])}function c(e,t,n){var r;if(e&&!(1===(r=e.nodeType)&&(r=e.nodeName)&&(r=r.toUpperCase())&&p[r])&&(1===e.nodeType&&(r=e.nodeValue)&&(t[t.length]=r),n.a||n.t||n.s||!e.getAttribute||((r=e.getAttribute("alt"))?n.a=r:(r=e.getAttribute("title"))?n.t=r:"IMG"==(""+e.nodeName).toUpperCase()&&(r=e.getAttribute("src")||e.src)&&(n.s=r)),(r=e.childNodes)&&r.length))for(e=0;e<r.length;e++)c(r[e],t,n)}function l(e){if(null==e||null==e)return e;try{return e.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \xa0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \xa0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \xa0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}","mg")," ").substring(0,254)}catch(e){}}var o=this;o.s=e;var s=window;s.s_c_in||(s.s_c_il=[],s.s_c_in=0),o._il=s.s_c_il,o._in=s.s_c_in,o._il[o._in]=o,s.s_c_in++,o._c="s_m";var u,f=0,g=60;o.c={};var p={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};o._g=function(){var t,n,r,i=e.contextData,c=e.linkObject;(t=e.pageName||e.pageURL)&&(n=a(c,"link",e.linkName))&&(r=a(c,"region"))&&(i["a.activitymap.page"]=t.substring(0,255),i["a.activitymap.link"]=128<n.length?n.substring(0,128):n,i["a.activitymap.region"]=127<r.length?r.substring(0,127):r,0<f&&(i["a.activitymap.xy"]=10*Math.floor(f/10)),i["a.activitymap.pageIDType"]=e.pageName?1:0)},o._d=function(){o.trackScrollReach&&!u&&(o.scrollReachSelector?n():(t(),s.addEventListener&&s.addEventListener("scroll",t,!1)),u=!0)},o.link=function(e,t){var n;if(t)n=r(l(t),o.linkExclusions);else if((n=e)&&!(n=i(e,"sObjectId","s-object-id","s_objectID",1))){var a,s;(s=r(l(e.innerText||e.textContent),o.linkExclusions))||(c(e,a=[],n={a:void 0,t:void 0,s:void 0}),(s=r(l(a.join(""))))||(s=r(l(n.a?n.a:n.t?n.t:n.s?n.s:void 0)))||!(a=(a=e.tagName)&&a.toUpperCase?a.toUpperCase():"")||("INPUT"==a||"SUBMIT"==a&&e.value?s=r(l(e.value)):"IMAGE"==a&&e.src&&(s=r(l(e.src))))),n=s}return n},o.region=function(e){for(var t,n=o.regionIDAttribute||"id";e&&(e=e.parentNode);){if(t=i(e,n,n,n))return t;if("BODY"==e.nodeName)return"BODY"}}}